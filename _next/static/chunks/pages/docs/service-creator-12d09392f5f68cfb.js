(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[760],{2742:function(s,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/service-creator",function(){return n(6550)}])},6550:function(s,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return t}});var a=n(5893),r=n(1151);function o(s){let e=Object.assign({h1:"h1",p:"p",strong:"strong",h2:"h2",h3:"h3",img:"img",pre:"pre",code:"code",a:"a"},(0,r.ah)(),s.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h1,{children:"Service Creator"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"Service creator需要团队版或更高版本。"})}),"\n",(0,a.jsx)(e.h2,{id:"service-creator",children:"如何包含Service Creator"}),"\n",(0,a.jsx)(e.h3,{children:"GUI工具"}),"\n",(0,a.jsx)(e.p,{children:'勾选 "Include Service Creator" 在应用输出页面'}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{src:"https://protector4j.com/resources/screenshots/include-service-creator.png",alt:"include-service-creator"})}),"\n",(0,a.jsx)(e.h3,{children:"命令行工具"}),"\n",(0,a.jsx)(e.p,{children:"在任务文件中添加 includeServiceCreator 字段"}),"\n",(0,a.jsx)(e.pre,{language:"yaml",code:"includeServiceCreator: true\n",children:(0,a.jsx)(e.code,{className:"language-yaml",children:'<span><span style="color: var(--shiki-token-keyword)">includeServiceCreator</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span></span>\n<span></span>'})}),"\n",(0,a.jsx)(e.h2,{id:"service-creator-2",children:"如何使用Service Creator"}),"\n",(0,a.jsx)(e.h3,{children:"Windows"}),"\n",(0,a.jsxs)(e.p,{children:["Windows的service creator 就是 ",(0,a.jsx)(e.a,{href:"https://nssm.cc/",children:"nssm"})," tool"]}),"\n",(0,a.jsx)(e.p,{children:"你可以在输出文件夹中找到这个工具，它需要与你的可执行文件一起使用。"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"安装服务"})}),"\n",(0,a.jsx)(e.p,{children:"进入到输出文件夹, 执行"}),"\n",(0,a.jsx)(e.pre,{language:"bash",code:"nssm install &lt;service-name&gt; &lt;exe-file-name&gt; [arguments] \n# For Tomcat Application, go to tomcat/bin folder\nnssm install &lt;service-name&gt; tomcat-launcher [jvm-arguments]\n",children:(0,a.jsx)(e.code,{className:"language-bash",children:'<span><span style="color: var(--shiki-color-text)">nssm install </span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">lt</span><span style="color: var(--shiki-token-keyword)">;</span><span style="color: var(--shiki-color-text)">service-name</span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">gt</span><span style="color: var(--shiki-token-keyword)">;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">lt</span><span style="color: var(--shiki-token-keyword)">;</span><span style="color: var(--shiki-color-text)">exe-file-name</span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">gt</span><span style="color: var(--shiki-token-keyword)">;</span><span style="color: var(--shiki-color-text)"> [arguments] </span></span>\n<span><span style="color: var(--shiki-token-comment)"># For Tomcat Application, go to tomcat/bin folder</span></span>\n<span><span style="color: var(--shiki-color-text)">nssm install </span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">lt</span><span style="color: var(--shiki-token-keyword)">;</span><span style="color: var(--shiki-color-text)">service-name</span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">gt</span><span style="color: var(--shiki-token-keyword)">;</span><span style="color: var(--shiki-color-text)"> tomcat-launcher [jvm-arguments]</span></span>\n<span></span>'})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"启动服务"})}),"\n",(0,a.jsx)(e.pre,{language:"bash",code:"nssm start &lt;service-name&gt;\n",children:(0,a.jsx)(e.code,{className:"language-bash",children:'<span><span style="color: var(--shiki-color-text)">nssm start </span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">lt</span><span style="color: var(--shiki-token-keyword)">;</span><span style="color: var(--shiki-color-text)">service-name</span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">gt</span><span style="color: var(--shiki-token-keyword)">;</span></span>\n<span></span>'})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"停止service"})}),"\n",(0,a.jsx)(e.pre,{code:"nssm stop &lt;service-name&gt;\n",children:(0,a.jsx)(e.code,{children:"nssm stop &lt;service-name&gt;\n"})}),"\n",(0,a.jsx)(e.p,{children:"查看状态"}),"\n",(0,a.jsx)(e.pre,{code:"nssm status &lt;service-name&gt;\n",children:(0,a.jsx)(e.code,{children:"nssm status &lt;service-name&gt;\n"})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"移除服务"})}),"\n",(0,a.jsx)(e.pre,{code:"nssm remove &lt;service-name&gt;\n",children:(0,a.jsx)(e.code,{children:"nssm remove &lt;service-name&gt;\n"})}),"\n",(0,a.jsxs)(e.p,{children:["关于nssm的详细使用请参考",(0,a.jsx)(e.a,{href:"https://nssm.cc/commands",children:"https://nssm.cc/commands"})]}),"\n",(0,a.jsx)(e.h3,{children:"Linux"}),"\n",(0,a.jsxs)(e.p,{children:["Linux下的service creator是基于",(0,a.jsx)(e.a,{href:"https://www.shubhamdipt.com/blog/how-to-create-a-systemd-service-in-linux/",children:"systemctl"})]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"安装服务"})}),"\n",(0,a.jsx)(e.p,{children:"进入输出文件夹, 执行"}),"\n",(0,a.jsx)(e.pre,{language:"bash",code:"sudo ./service-creator &lt;service-name&gt; &lt;exe-file-name&gt; [&lt;arguments&gt;]\n# For Tomcat Application, go to tomcat/bin folder\nsudo ./service-creator &lt;service-name&gt;  tomcat-launcher\n",children:(0,a.jsx)(e.code,{className:"language-bash",children:'<span><span style="color: var(--shiki-color-text)">sudo ./service-creator </span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">lt</span><span style="color: var(--shiki-token-keyword)">;</span><span style="color: var(--shiki-color-text)">service-name</span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">gt</span><span style="color: var(--shiki-token-keyword)">;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">lt</span><span style="color: var(--shiki-token-keyword)">;</span><span style="color: var(--shiki-color-text)">exe-file-name</span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">gt</span><span style="color: var(--shiki-token-keyword)">;</span><span style="color: var(--shiki-color-text)"> [</span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">lt</span><span style="color: var(--shiki-token-keyword)">;</span><span style="color: var(--shiki-color-text)">arguments</span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">gt</span><span style="color: var(--shiki-token-keyword)">;</span><span style="color: var(--shiki-color-text)">]</span></span>\n<span><span style="color: var(--shiki-token-comment)"># For Tomcat Application, go to tomcat/bin folder</span></span>\n<span><span style="color: var(--shiki-color-text)">sudo ./service-creator </span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">lt</span><span style="color: var(--shiki-token-keyword)">;</span><span style="color: var(--shiki-color-text)">service-name</span><span style="color: var(--shiki-token-keyword)">&amp;</span><span style="color: var(--shiki-color-text)">gt</span><span style="color: var(--shiki-token-keyword)">;</span><span style="color: var(--shiki-color-text)">  tomcat-launcher</span></span>\n<span></span>'})}),"\n",(0,a.jsx)(e.p,{children:"服务创建后, 服务会自动运行并且设置为随系统启动"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"检查服务状态"})}),"\n",(0,a.jsx)(e.pre,{language:"bash",code:"sudo systemctl status service-name\n",children:(0,a.jsx)(e.code,{className:"language-bash",children:'<span><span style="color: var(--shiki-color-text)">sudo systemctl status service-name</span></span>\n<span></span>'})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"停止服务"})}),"\n",(0,a.jsx)(e.pre,{language:"bash",code:"sudo systemctl stop service-name\n",children:(0,a.jsx)(e.code,{className:"language-bash",children:'<span><span style="color: var(--shiki-color-text)">sudo systemctl stop service-name</span></span>\n<span></span>'})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"启动服务"})}),"\n",(0,a.jsx)(e.pre,{language:"bash",code:"sudo systemctl start service-name\n",children:(0,a.jsx)(e.code,{className:"language-bash",children:'<span><span style="color: var(--shiki-color-text)">sudo systemctl start service-name</span></span>\n<span></span>'})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"禁用自动运行"})}),"\n",(0,a.jsx)(e.pre,{language:"bash",code:"sudo systemctl disable service-name\n",children:(0,a.jsx)(e.code,{className:"language-bash",children:'<span><span style="color: var(--shiki-color-text)">sudo systemctl disable service-name</span></span>\n<span></span>'})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"启用自动运行"})}),"\n",(0,a.jsx)(e.pre,{code:"sudo systemctl enable service-name\n",children:(0,a.jsx)(e.code,{children:"sudo systemctl enable service-name\n"})}),"\n",(0,a.jsxs)(e.p,{children:["关于systemctl的详细使用, 请参考",(0,a.jsx)(e.a,{href:"https://www.shubhamdipt.com/blog/how-to-create-a-systemd-service-in-linux/",children:"https://www.shubhamdipt.com/blog/how-to-create-a-systemd-service-in-linux/"})]})]})}var t=!0;e.default=function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,r.ah)(),s.components);return e?(0,a.jsx)(e,Object.assign({},s,{children:(0,a.jsx)(o,s)})):o(s)}}},function(s){s.O(0,[774,888,179],function(){return s(s.s=2742)}),_N_E=s.O()}]);